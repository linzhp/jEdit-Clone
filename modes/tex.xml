<!-- TeX mode, by Slava Pestov -->

<?XML VERSION="1.0"?>

<!DOCTYPE MODE>

<MODE NAME="tex">
	<PROPS>
		<PROPERTY NAME="label" VALUE="TeX [XMode]" />
		<PROPERTY NAME="filenameGlob" VALUE="*.{tex,sty,ltx}" />
	</PROPS>
	<RULES>
		<WHITESPACE> </WHITESPACE>
		<WHITESPACE>	</WHITESPACE>

		<!-- $$...$$ -->
		<SPAN TYPE="KEYWORD2" DELEGATE="MATH">
			<BEGIN>$$</BEGIN>
			<END>$$</END>
		</SPAN>

		<!-- $...$ -->
		<SPAN TYPE="KEYWORD2" DELEGATE="MATH">
			<BEGIN>$</BEGIN>
			<END>$</END>
		</SPAN>

		<!-- \[...\] (LaTeX math mode) -->
		<SPAN TYPE="KEYWORD2" DELEGATE="MATH">
			<BEGIN>\[</BEGIN>
			<END>\]</END>
		</SPAN>

		<!-- [...] -->
		<SPAN TYPE="LITERAL1" DELEGATE="BRACKET">
			<BEGIN>[</BEGIN>
			<END>]</END>
		</SPAN>

		<!-- {...} -->
		<SPAN TYPE="LITERAL1" DELEGATE="BRACKET">
			<BEGIN>{</BEGIN>
			<END>}</END>
		</SPAN>

		<!-- some commands must be handled specially -->
		<SEQ TYPE="KEYWORD1">\$</SEQ>
		<SEQ TYPE="KEYWORD1">\\</SEQ>
		<SEQ TYPE="KEYWORD1">\%</SEQ>

		<!-- \... commands -->
		<MARK_FOLLOWING TYPE="KEYWORD1">\</MARK_FOLLOWING>

		<!-- comments -->
		<EOL_SPAN TYPE="COMMENT1">%</EOL_SPAN>

		<!-- word separators -->
		<SEQ TYPE="NULL">)</SEQ>
		<SEQ TYPE="NULL">(</SEQ>
		<SEQ TYPE="NULL">=</SEQ>
		<SEQ TYPE="NULL">!</SEQ>
		<SEQ TYPE="NULL">&gt;=</SEQ>
		<SEQ TYPE="NULL">&lt;=</SEQ>
		<SEQ TYPE="NULL">+</SEQ>
		<SEQ TYPE="NULL">-</SEQ>
		<SEQ TYPE="NULL">/</SEQ>
		<SEQ TYPE="NULL">*</SEQ>
		<SEQ TYPE="NULL">&gt;</SEQ>
		<SEQ TYPE="NULL">&lt;</SEQ>
		<SEQ TYPE="NULL">%</SEQ>
		<SEQ TYPE="NULL">&amp;</SEQ>
		<SEQ TYPE="NULL">|</SEQ>
		<SEQ TYPE="NULL">^</SEQ>
		<SEQ TYPE="NULL">~</SEQ>
		<SEQ TYPE="NULL">}</SEQ>
		<SEQ TYPE="NULL">{</SEQ>
		<SEQ TYPE="NULL">.</SEQ>
		<SEQ TYPE="NULL">,</SEQ>
		<SEQ TYPE="NULL">;</SEQ>
		<SEQ TYPE="NULL">]</SEQ>
		<SEQ TYPE="NULL">[</SEQ>
		<SEQ TYPE="NULL">?</SEQ>
		<SEQ TYPE="NULL">:</SEQ>
	</RULES>

	<RULES SET="MATH" DEFAULT="KEYWORD2">
		<!-- whitespace: (space and tab) -->
		<WHITESPACE> </WHITESPACE>
		<WHITESPACE>	</WHITESPACE>

		<!-- some commands must be handled specially -->
		<SEQ TYPE="KEYWORD3">\$</SEQ>
		<SEQ TYPE="KEYWORD3">\\</SEQ>
		<SEQ TYPE="KEYWORD3">\%</SEQ>

		<!-- \... commands -->
		<MARK_FOLLOWING TYPE="KEYWORD3">\</MARK_FOLLOWING>

		<!-- comments -->
		<EOL_SPAN TYPE="COMMENT1">%</EOL_SPAN>
	</RULES>

	<RULES SET="BRACKET" DEFAULT="LITERAL1">
		<!-- whitespace: (space and tab) -->
		<WHITESPACE> </WHITESPACE>
		<WHITESPACE>	</WHITESPACE>

		<!-- comments -->
		<EOL_SPAN TYPE="COMMENT1">%</EOL_SPAN>
	</RULES>
</MODE>
