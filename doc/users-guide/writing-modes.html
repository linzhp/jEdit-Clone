<!DOCTYPE HTML PUBLIC "-//Norman Walsh//DTD DocBook HTML 1.0//EN">
<HTML
><HEAD
><TITLE
>Writing Edit Modes</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet"><LINK
REL="HOME"
TITLE="jEdit 2.7 User's Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Extending jEdit"
HREF="extending-jedit.html"><LINK
REL="PREVIOUS"
TITLE="Extending jEdit"
HREF="extending-jedit.html"><LINK
REL="NEXT"
TITLE="The Preamble"
HREF="mode-preamble.html"></HEAD
><BODY
BGCOLOR="#FFFFFF"
><DIV
CLASS="NAVHEADER"
><H1
>jEdit 2.7 User's Guide</H1
><P
><A
HREF="mode-preamble.html"
>Next</A
>, <A
HREF="extending-jedit.html"
>Prev</A
></P
><HR></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="WRITING-MODES"
>Chapter 9. Writing Edit Modes</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="writing-modes.html#XML-PRIMER"
>An XML Primer</A
></DT
><DT
><A
HREF="mode-preamble.html"
>The Preamble</A
></DT
><DT
><A
HREF="mode-tag.html"
>The MODE Tag</A
></DT
><DT
><A
HREF="mode-tag-props.html"
>The PROPS Tag</A
></DT
><DT
><A
HREF="mode-tag-rules.html"
>The RULES Tag</A
></DT
><DT
><A
HREF="mode-rule-terminate.html"
>TERMINATE Rule</A
></DT
><DT
><A
HREF="mode-rule-whitespace.html"
>WHITESPACE Rule</A
></DT
><DT
><A
HREF="mode-rule-span.html"
>SPAN Rule</A
></DT
><DT
><A
HREF="mode-rule-eol-span.html"
>EOL_SPAN Rule</A
></DT
><DT
><A
HREF="mode-rule-mark-prev.html"
>MARK_PREVIOUS Rule</A
></DT
><DT
><A
HREF="mode-rule-mark-following.html"
>MARK_FOLLOWING Rule</A
></DT
><DT
><A
HREF="mode-rule-seq.html"
>SEQ Rule</A
></DT
><DT
><A
HREF="mode-rule-keywords.html"
>KEYWORDS Rule</A
></DT
><DT
><A
HREF="mode-syntax-tokens.html"
>Token Types</A
></DT
></DL
></DIV
><P
>  Recall that each edit mode is defined as an XML file. As a result,
  new modes are very easy to create. This section will
  start with a short XML primer, followed by detailed information about each
  supported tag and highlighting rule.
 </P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="XML-PRIMER"
>An XML Primer</A
></H1
><P
>   XML is a simplified version of SGML, which is a language closely
   related to HTML. Because of this, XML looks very similar to HTML
   and anyone who's done a bit of web page authoring will immediately
   pick it up.
 </P
><P
>  Here is a sample XML file that also happens to be a definition for
  a (useless) edit mode called "my-mode":
 </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>&lt;?xml version="1.0"?&gt;

&lt;!DOCTYPE MODE SYSTEM "xmode.dtd"&gt;

&lt;MODE NAME="my-mode"&gt;
    &lt;PROPS&gt;
        &lt;PROPERTY NAME="label" VALUE="My First Edit Mode" /&gt;
        &lt;PROPERTY NAME="filenameGlob" VALUE="*.my" /&gt;
    &lt;/PROPS&gt;
    &lt;RULES&gt;
        &lt;!-- syntax highlighting rules go here --&gt;
    &lt;/RULES&gt;
&lt;/MODE&gt;</PRE
></TD
></TR
></TABLE
><P
>  If you're familiar with HTML, keep the following in mind when writing XML:
 </P
><P
></P
><UL
><LI
><P
><SPAN
CLASS="MARKUP"
>&lt;? xml version="1.0"?&gt;</SPAN
> - strings
  enclosed with "&lt;?" and "?&gt;" are called
  <I
CLASS="FIRSTTERM"
>processing instructions</I
>. The only processing instruction
  that you need to know to write edit modes is one that specifies the
  XML version.</P
></LI
><LI
><P
><SPAN
CLASS="MARKUP"
>&lt;!DOCTYPE MODE SYSTEM "xmode.dtd"&gt;</SPAN
> - tags
  beginning with "&lt;!" give extra information to the parser.
  This <SPAN
CLASS="MARKUP"
>DOCTYPE</SPAN
> declaration tells the
  parser that the following XML document is of type "MODE".
  </P
></LI
><LI
><P
><SPAN
CLASS="MARKUP"
>&lt;PROPERTY NAME="label" VALUE="My First Edit Mode" /&gt;</SPAN
> - 
  unlike HTML, where some tags stand on their own (<SPAN
CLASS="MARKUP"
>IMG</SPAN
>, for
  example) <I
CLASS="EMPHASIS"
>all tags must be closed</I
> in XML. Even if a
  there is nothing between the opening and closing tags, they must
  still be specified. To avoid clutter, the XML standard specifies
  that <SPAN
CLASS="MARKUP"
>&lt;<TT
CLASS="REPLACEABLE"
><I
>TAG</I
></TT
> /&gt;</SPAN
> is the same as
  <SPAN
CLASS="MARKUP"
>&lt;<TT
CLASS="REPLACEABLE"
><I
>TAG&gt;</I
></TT
>&lt;/<TT
CLASS="REPLACEABLE"
><I
>TAG&gt;</I
></TT
></SPAN
>.
  </P
></LI
><LI
><P
>All attribute values must be quoted. In HTML, you can
  get away with writing <SPAN
CLASS="MARKUP"
>NAME=label</SPAN
> inside a tag; in XML,
  you must write <SPAN
CLASS="MARKUP"
>NAME="label"</SPAN
>.
  </P
></LI
><LI
><P
>XML is case sensitive. <SPAN
CLASS="MARKUP"
>SPAN</SPAN
> is not the same
  as <SPAN
CLASS="MARKUP"
>Span</SPAN
> or <SPAN
CLASS="MARKUP"
>span</SPAN
>.</P
></LI
></UL
><P
>  To insert a special character such as &lt; or &gt; literally in XML
  (for example, inside an attribute value), you must write it as
  an <I
CLASS="FIRSTTERM"
>entity</I
>. An
  entity consists of the character's symbolic name enclosed with
  "&amp;" and ";". A full list of entities is out of
  the scope of this chapter, but the most important are:
 </P
><P
></P
><UL
><LI
><P
><SPAN
CLASS="MARKUP"
>&amp;lt;</SPAN
> - The less-than (&lt;) character</P
></LI
><LI
><P
><SPAN
CLASS="MARKUP"
>&amp;gt;</SPAN
> - The greater-than (&gt;) character</P
></LI
><LI
><P
><SPAN
CLASS="MARKUP"
>&amp;amp;</SPAN
> - The ampersand (&amp;) character</P
></LI
></UL
><P
>  For example, to highlight "&lt;" as an <TT
CLASS="CLASSNAME"
>OPERATOR</TT
> in
  Java mode, you can't write "&lt;SEQ TYPE="OPERATOR"&gt;&lt; &lt;/SEQ&gt;"
  because that would cause a syntax error. Instead, you must write:
 </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>&lt;SEQ TYPE="OPERATOR"&gt;&amp;lt;&lt;/SEQ&gt;</PRE
></TD
></TR
></TABLE
><P
>  Now that you know the basics of XML, read on to find out how to write
  edit modes.
 </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR><A
HREF="index.html"
>Home</A
>, <A
HREF="extending-jedit.html"
>Up</A
><BR><A
HREF="extending-jedit.html"
>Prev</A
>: Extending jEdit<BR><A
HREF="mode-preamble.html"
>Next</A
>: The Preamble<BR></DIV
></BODY
></HTML
>